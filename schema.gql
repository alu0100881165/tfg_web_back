# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserModel {
  """Identifier"""
  id: Float!

  """Username"""
  username: String!

  """Email"""
  email: String!

  """Roles"""
  roles: [Role!]!

  """Name"""
  firstname: String!

  """Lastname"""
  lastname: String!

  """Associated company"""
  company: CompanyModel!
}

enum Role {
  BaseUser
  Admin
}

type CounterModel {
  """Identifier"""
  id: Float!

  """Username"""
  username: String!

  """Software Version"""
  currentVersion: String!

  """Maximun capacity"""
  capacity: Float!

  """Associated company"""
  company: CompanyModel!
}

type CompanyModel {
  """Identifier"""
  id: Float!

  """Company name"""
  name: String!

  """Company address"""
  address: String!

  """Company postal code"""
  postalCode: String!

  """Contact phone"""
  phone: String!
}

type StatisticsModel {
  """Identifier"""
  id: Float!

  """When data was received"""
  datetime: DateTime!

  """Number of people entering"""
  entering: Float!

  """Number of people exiting"""
  exiting: Float!

  """Associated counter"""
  counter: CounterModel!
  company: CounterModel!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type RegisterCounterResponse {
  counter: CounterModel!
}

type LoginResponse {
  accessToken: String!
  user: UserModel!
}

type LogoutResponse {
  username: String!
}

type Query {
  findAll: [UserModel!]!
  findCompanyUsers(companyId: Float!): [UserModel!]!
  me: UserModel
  findAllCompanies: [CompanyModel!]!
  findCompany(id: Float!): CompanyModel!
  findCompanyByName(name: String!): CompanyModel!
  findAllCounters: [CounterModel!]!
  findLatest: StatisticsModel!
  findAllStatistics: [StatisticsModel!]!
}

type Mutation {
  register(companyName: String!, lastname: String!, firstname: String!, password: String!, email: String!, username: String!): UserModel!
  registerAdmin(companyId: Float!, lastname: String!, firstname: String!, password: String!, email: String!, username: String!): LoginResponse!
  login(password: String!, username: String!): LoginResponse!
  logout: LogoutResponse!
  update(newLastname: String, newFirstname: String, newEmail: String, newUsername: String, username: String!): UserModel!
  delete(userId: Float!): UserModel!
  createCompany(phone: String!, postalCode: String!, address: String!, name: String!): CompanyModel!
  updateCompany(newPhone: String, newPostalCode: String, newAddress: String, newName: String, name: String!): CompanyModel!
  deleteCompany(id: Float!): CompanyModel!
  createCounter(companyId: Float!, capacity: Float!, currentVersion: String!, password: String!, username: String!): RegisterCounterResponse!
}
